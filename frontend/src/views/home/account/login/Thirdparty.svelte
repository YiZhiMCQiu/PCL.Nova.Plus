<script lang="ts">
    import MyNormalLabel from "../../../../component/input/MyNormalLabel.svelte";
    import MyTextInput from "../../../../component/input/MyTextInput.svelte";
    import MyNormalButton from "../../../../component/button/MyNormalButton.svelte";
    import {current_account_page} from "../../../../store/changeBody";
    import {showHint} from "../../../../store/messagebox";

    export let opacity = null
    export let after_leave = null

    let server = ""
    function serverInput(s: string) {
        server = s
    }
    let username = ""
    function usernameInput(name: string) {
        username = name
    }
    let password = ""
    function passwordInput(pass: string) {
        password = pass
    }
    function startLogin() {
        // console.log(server)
        // console.log(username)
        // console.log(password)
        showHint("ç›®å‰å¤–ç½®ç™»å½•æš‚æ—¶è¿˜æ²¡æœ‰åšå¥½ğŸ˜­ï¼Œè¯·æ•¬è¯·æœŸå¾…å§ï¼")
    }
</script>
<div
        id="component"
        in:opacity
        out:opacity
        on:outroend={after_leave}
>
    <div id="center">
        <table>
            <tr>
                <td colspan="2">
                    <div style="display: flex; align-items: center; justify-content: center">
                        <MyNormalButton style_in="width: 200px; height: 30px" click={() => {server = 'https://littleskin.cn/api/yggdrasil'}}>åº”ç”¨ Littleskin æœåŠ¡å™¨</MyNormalButton>
                    </div>
                </td>
            </tr>
            <tr>
                <td><MyNormalLabel>æœåŠ¡å™¨</MyNormalLabel></td>
                <td><MyTextInput placeholder="è¯·è¾“å…¥æœåŠ¡å™¨åœ°å€" title="åé¢å¿…é¡»è·Ÿç€ /api/yggdrasilï¼Œå¦åˆ™ç™»å½•ä¸æˆåŠŸï¼" style_in="width: 160px; height: 24px;" value={server} handleInput={serverInput}/></td>
            </tr>
            <tr>
                <td><MyNormalLabel>è´¦å·</MyNormalLabel></td>
                <td><MyTextInput placeholder="è¯·è¾“å…¥è´¦å·" title="å¤šåŠæ˜¯é‚®ç®±åœ°å€" style_in="width: 160px; height: 24px;" handleInput={usernameInput} /></td>
            </tr>
            <tr>
                <td><MyNormalLabel>å¯†ç </MyNormalLabel></td>
                <td><MyTextInput placeholder="è¯·è¾“å…¥å¯†ç " title="è¾“å…¥å¯†ç å³å¯" style_in="width: 160px; height: 24px;" handleInput={passwordInput} /></td>
            </tr>
            <tr>
                <td colspan="2">
                    <div style="display: flex; align-items: center; justify-content: space-around;">
                        <MyNormalButton style_in="width: 100px; height: 30px" click={startLogin}>ç™»å½•</MyNormalButton>
                        <MyNormalButton style_in="width: 100px; height: 30px" click={() => current_account_page.set(true)}>è¿”å›</MyNormalButton>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
<style>
    #component {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
    }
    #center {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 100%;
        height: 200px;
    }
    #center table {
        border-spacing: 10px;
    }
    #center table tr td {
        text-align: right;
    }
</style>